(this.webpackJsonpremotemeteringssolution=this.webpackJsonpremotemeteringssolution||[]).push([[0],{1403:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(33),i=n.n(r),c=n(104),s=(n(613),n(137)),l=n(591),u=n.n(l),m=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:u.a.skipLink},o.a.createElement("a",{href:"#mainContent"},"Skip to Main Content")),o.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-light border-bottom justify-content-between"},o.a.createElement(s.b,{className:"navbar-brand",to:"/"},"Metering Solution"),o.a.createElement("div",{className:"navbar-nav"},o.a.createElement(s.b,{className:"nav-item nav-link active",to:"List"},"Dashboard"))))},E=n(226),f=n.n(E),g=function(){return o.a.createElement("footer",{className:f.a.footer},o.a.createElement("div",{className:"container-fluid"},o.a.createElement("div",{className:"row justify-content-around"},o.a.createElement("div",{className:"col-8 col-md-5"},o.a.createElement("h5",{className:f.a.title},"Meterings Solution"),o.a.createElement("p",{className:f.a.description},"Reading of WH and VARH")),o.a.createElement("div",{className:"col-2"}))))},d=n(105),p=n(335),h=n(1445),w=n(1446),S={ERROR_MESSAGE:{}};S.ERROR_MESSAGE.LIST_DELETE="Request to delete list item failed:",S.ERROR_MESSAGE.LIST_ADD="Request to add list item failed:",S.ERROR_MESSAGE.LIST_GET="Request to get list items failed:",S.ERROR_MESSAGE.LIST_EMPTY_MESSAGE="Please enter a valid message",S.ENDPOINT={},S.ENDPOINT.LIST="/api/list",S.ENDPOINT.METERDETAILS="/api/meterData",S.ENDPOINT.METERSERIALNUMBERS="/api/meterSerialNumbers";var b=S,v=n(593),M=n.n(v),R=n(594),N=n.n(R),O=function(e){var t=e.open,n=e.text,a=e.onWarningClose;return o.a.createElement(o.a.Fragment,null,t&&o.a.createElement("div",{className:M()("alert","alert-warning","ml-3",N.a.warningPosition),role:"alert"},n,o.a.createElement("button",{onClick:a,className:"close ml-2","aria-label":"Close"},o.a.createElement("span",{"aria-hidden":"true"},"\xd7"))))},T=function(e){var t=Object(a.useState)(""),n=Object(d.a)(t,2),r=n[0],i=n[1],c=o.a.useState(""),s=Object(d.a)(c,2),l=s[0],u=s[1],m=Object(a.useState)([]),E=Object(d.a)(m,2),f=E[0],g=E[1],S=Object(a.useState)({warningMessageOpen:!1,warningMessageText:""}),v=Object(d.a)(S,2),M=v[0],R=v[1];return o.a.useEffect((function(){fetch(b.ENDPOINT.METERSERIALNUMBERS).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){g(e)})).catch((function(e){return R({warningMessageOpen:!0,warningMessageText:"".concat(b.ERROR_MESSAGE.LIST_GET," ").concat(e)})}))}),[]),o.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.plotChart(l),u("")},className:"input-group my-3"},o.a.createElement("br",null),o.a.createElement(w.a,{freeSolo:!0,value:r,onChange:function(e,t){i(t)},inputValue:l,onInputChange:function(e,t){u(t)},id:"free-solo-2-demo",disableClearable:!0,options:f.map((function(e){return e})),style:{width:300},renderInput:function(e){return o.a.createElement(h.a,Object.assign({},e,{label:"Search Serial Number",margin:"normal",variant:"outlined",InputProps:Object(p.a)(Object(p.a)({},e.InputProps),{},{type:"search"})}))}}),o.a.createElement("button",{type:"submit",className:"btn btn-primary ml-2"},"Submit"),o.a.createElement(O,{open:M.warningMessageOpen,text:M.warningMessageText,onWarningClose:function(){R({warningMessageOpen:!1,warningMessageText:""})}}))},_=n(597),x=n.n(_),k=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)({warningMessageOpen:!1,warningMessageText:""}),c=Object(d.a)(i,2),s=c[0],l=c[1];return o.a.createElement("main",{id:"mainContent",className:"container"},o.a.createElement("div",{className:"row justify-content-center py-5"},o.a.createElement("h3",null,"Dashboard")),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12 p-0"},o.a.createElement(T,{plotChart:function(e){e?fetch("".concat(b.ENDPOINT.METERDETAILS,"/").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){r(""),r(e)})).catch((function(e){return l({warningMessageOpen:!0,warningMessageText:"".concat(b.ERROR_MESSAGE.LIST_ADD," ").concat(e)})})):l({warningMessageOpen:!0,warningMessageText:b.ERROR_MESSAGE.LIST_EMPTY_MESSAGE})}})),o.a.createElement(x.a,{data:[{x:n.xaxis,y:n.yaxis1,type:"scatter",width:"auto",name:"WH",marker:{color:"blue"}},{x:n.xaxis,y:n.yaxis2,type:"scatter",width:"auto",name:"VARH",marker:{color:"red"}}],layout:{margin:{b:150},width:1028,height:400,yaxis:{title:"Unit",tickangle:270,titlefont:{size:18}},xaxis:{title:"Date",titlefont:{size:18}},displaylogo:!1,autosize:!0,title:"Meter Graph with WH and VARH"},config:{responsive:!0}}),o.a.createElement(O,{open:s.warningMessageOpen,text:s.warningMessageText,onWarningClose:function(){l({warningMessageOpen:!1,warningMessageText:""})}})))},j=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(m,null),o.a.createElement(c.c,null,o.a.createElement(c.a,{exact:!0,path:"/",component:k}),o.a.createElement(c.a,{path:"/Meter",component:k})),o.a.createElement(g,null))},I=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function y(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(1400);i.a.render(o.a.createElement(s.a,null,o.a.createElement(j,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");I?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):y(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):y(e)}))}}()},226:function(e,t,n){e.exports={footer:"footer_footer__16DCu",title:"footer_title__YJHcl",description:"footer_description__2-hjs",footerlink:"footer_footerlink__3l1rt"}},591:function(e,t,n){e.exports={skipLink:"navbar_skipLink__3EZXQ"}},594:function(e,t,n){e.exports={warningPosition:"warningmessage_warningPosition__12kvB"}},608:function(e,t,n){e.exports=n(1403)},613:function(e,t,n){},893:function(e,t){}},[[608,1,2]]]);
//# sourceMappingURL=main.5881bec5.chunk.js.map